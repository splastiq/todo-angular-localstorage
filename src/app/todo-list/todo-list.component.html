<div class="mb-3" *ngIf="lengthOfTodos$ | async">
	<small class="filter-link" (click)="filter='all'" [ngClass]="{'active': filter === 'all'}">all:
		{{lengthOfTodos$ | async}}</small>
	<small class="filter-link" (click)="filter='completed'" [ngClass]="{'active': filter === 'completed'}">completed:
		{{lengthOfCompletedTodos$ | async}}</small>
	<small class="filter-link" (click)="filter='inprogress'" [ngClass]="{'active': filter === 'inprogress'}">inprogress:
		{{lengthOfUncompletedTodos$ | async}}
	</small>
	<small class="filter-link pointer-none">done: {{ persentageOfCompletedTodos$ | async | percent}}</small>
</div>
<form [formGroup]="form" (ngSubmit)="addItem()">
	<div class="input-group mb-1">
		<input type="text" class="form-control" formControlName="title" placeholder="todo" />
		<button class="btn btn-outline-secondary" type="submit">
			<fa-icon [icon]="faPlus"></fa-icon>
		</button>
	</div>
</form>
<div class="input-group mb-3 border-bottom">
	<input type="text" class="form-control border-0" [(ngModel)]="term" placeholder="search" />
	<button class="btn btn-sm btn-transperent" type="button" (click)="term=''">
		<fa-icon [icon]="faTimes" [fixedWidth]="true"></fa-icon>
	</button>
</div>
<div class="list-group list-group-flush mb-3">
	<app-todo-item *ngFor="let item of allTodos$ | async | filter:term | filter:filter" class="list-group-item " [item]="item"
		(editingItem)="editItem($event)" (doneEditing)="doneEdit($event, item.id)" (deletingIteam)="deleteItem($event)"
		(completingIteam)="completeItem($event)">
	</app-todo-item>
</div>
<button *ngIf="lengthOfCompletedTodos$ | async" class="btn btn-sm btn-light" (click)="deleteCompleted()">
	<fa-icon [icon]="faTrash" class="mr-1"></fa-icon> delete completed items
</button>
<div class="info bg-light p-2 mt-3">
	<small *ngIf="lengthOfTodos$ | async; else startMessage">
		<fa-icon [icon]="faInfoCircle" class="mr-1"></fa-icon> To filter the items by category click on
		the same links on the top of the app.
	</small>
	<ng-template #startMessage>
		<small >
			<fa-icon [icon]="faInfoCircle" class="mr-1"></fa-icon> Add some item to start tracking your tasks!
		</small>
	</ng-template>
</div>